<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>key4hep JetTagging: WeaverInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">key4hep JetTagging
   </div>
   <div id="projectbrief">Jet tagging algorithm with ONNX neural network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classWeaverInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WeaverInterface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for ONNX-based inference models generated by Weaver.  
 <a href="classWeaverInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="WeaverInterface_8h_source.html">WeaverInterface.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac8edf1601780d21c0b5ccb79827b9a32"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeaverInterface.html#ac8edf1601780d21c0b5ccb79827b9a32">ConstituentVars</a> = rv::RVec&lt; float &gt;</td></tr>
<tr class="memdesc:ac8edf1601780d21c0b5ccb79827b9a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for a vector of float variables.  <a href="classWeaverInterface.html#ac8edf1601780d21c0b5ccb79827b9a32">More...</a><br /></td></tr>
<tr class="separator:ac8edf1601780d21c0b5ccb79827b9a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad6e74a46fee271dfdfb76d953494ee9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeaverInterface.html#ad6e74a46fee271dfdfb76d953494ee9c">WeaverInterface</a> (const std::string &amp;onnx_filename=&quot;&quot;, const std::string &amp;json_filename=&quot;&quot;, const rv::RVec&lt; std::string &gt; &amp;vars={})</td></tr>
<tr class="memdesc:ad6e74a46fee271dfdfb76d953494ee9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor to initialize the <a class="el" href="classWeaverInterface.html" title="Interface for ONNX-based inference models generated by Weaver.">WeaverInterface</a>.  <a href="classWeaverInterface.html#ad6e74a46fee271dfdfb76d953494ee9c">More...</a><br /></td></tr>
<tr class="separator:ad6e74a46fee271dfdfb76d953494ee9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29456bea9147370fe0b135a2df6e4093"><td class="memItemLeft" align="right" valign="top">rv::RVec&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWeaverInterface.html#a29456bea9147370fe0b135a2df6e4093">run</a> (const rv::RVec&lt; <a class="el" href="classWeaverInterface.html#ac8edf1601780d21c0b5ccb79827b9a32">ConstituentVars</a> &gt; &amp;constituent_vars)</td></tr>
<tr class="memdesc:a29456bea9147370fe0b135a2df6e4093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs inference on the input variables for a list of jet constituents.  <a href="classWeaverInterface.html#a29456bea9147370fe0b135a2df6e4093">More...</a><br /></td></tr>
<tr class="separator:a29456bea9147370fe0b135a2df6e4093"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for ONNX-based inference models generated by Weaver. </p>
<p>This class provides functionality to load ONNX models, process input variables, and run inference for jet falvor tagging. The input variables are preprocessed according to the settings defined in JSON configuration files, and predictions are returned as RVec&lt;float&gt; values. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ac8edf1601780d21c0b5ccb79827b9a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8edf1601780d21c0b5ccb79827b9a32">&#9670;&nbsp;</a></span>ConstituentVars</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classWeaverInterface.html#ac8edf1601780d21c0b5ccb79827b9a32">WeaverInterface::ConstituentVars</a> =  rv::RVec&lt;float&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alias for a vector of float variables. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad6e74a46fee271dfdfb76d953494ee9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e74a46fee271dfdfb76d953494ee9c">&#9670;&nbsp;</a></span>WeaverInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WeaverInterface::WeaverInterface </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>onnx_filename</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>json_filename</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rv::RVec&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>vars</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor to initialize the <a class="el" href="classWeaverInterface.html" title="Interface for ONNX-based inference models generated by Weaver.">WeaverInterface</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onnx_filename</td><td>Path to the ONNX model file. </td></tr>
    <tr><td class="paramname">json_filename</td><td>Path to the JSON file containing preprocessing parameters. </td></tr>
    <tr><td class="paramname">vars</td><td>List of variable names to describe jet constituent observables (e.g. pfcand_isEl). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a29456bea9147370fe0b135a2df6e4093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29456bea9147370fe0b135a2df6e4093">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rv::RVec&lt; float &gt; WeaverInterface::run </td>
          <td>(</td>
          <td class="paramtype">const rv::RVec&lt; <a class="el" href="classWeaverInterface.html#ac8edf1601780d21c0b5ccb79827b9a32">ConstituentVars</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>constituent_vars</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs inference on the input variables for a list of jet constituents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">constituent_vars</td><td>A vector of per-constituent variables of a jet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of probabilities for different jet flavors. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>k4ProjectTemplate/src/components/<a class="el" href="WeaverInterface_8h_source.html">WeaverInterface.h</a></li>
<li>k4ProjectTemplate/src/components/<a class="el" href="WeaverInterface_8cpp.html">WeaverInterface.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
